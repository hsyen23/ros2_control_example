<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name = "robot">

    <xacro:include filename="include.xacro" />

    <!-- This first link called "world" is empty -->
    
    <link name="world"></link>

    <joint name="base_joint" type="fixed">
        <origin xyz = "0 0 1.0" rpy="0 0 0"/>
        <parent link="world"/>
        <child link="base_link"/>
    </joint>
    
    <link name = "base_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <box size="0.4 0.2 2.0"/>
            </geometry>
            <material name = "orange"/>
        </visual>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <box size="0.4 0.2 2.0"/>
            </geometry>
        </collision>

        <xacro:inertial_box mass="0.5" x="0.4" y="0.2" z="2.0">
            <origin xyz="0 0 0" rpy="0 0 0"/>
        </xacro:inertial_box>
    </link>

    <joint name="arm_joint1" type = "continuous">
        <origin xyz = "0 0.1 0.8" rpy="${-pi/2} 0 0"/>
        <axis xyz="0.0 0.0 1.0"/>
        <parent link="base_link"/>
        <child link="arm_link1"/>
        <dynamics damping="0.02" friction="0.02"/>
    </joint>

    <link name = "arm_link1">
        <visual>
            <origin xyz="0 0.55 0.025" rpy="${pi/2} 0 0"/>
            <geometry>
                <box size="0.4 0.05 1.5"/>
            </geometry>
            <material name = "blue"/>
        </visual>

        <collision>
            <origin xyz="0 0.55 0.025" rpy="${pi/2} 0 0"/>
            <geometry>
                <box size="0.4 0.05 1.5"/>
            </geometry>
        </collision>

        <xacro:inertial_box mass="0.1" x="0.4" y="0.05" z="1.5">
            <origin xyz="0 0.55 0.025" rpy="${pi/2} 0 0"/>
        </xacro:inertial_box>
    </link>

    <joint name="arm_joint2" type = "continuous">
        <origin xyz = "0 0.9 0.05" rpy="0 0 0"/>
        <axis xyz="0.0 0.0 1.0"/>
        <parent link="arm_link1"/>
        <child link="arm_link2"/>
        <dynamics damping="0.02" friction="0.02"/>
    </joint>

    <link name = "arm_link2">
        <visual>
            <origin xyz="0 0.25 0.025" rpy="${pi/2} 0 0"/>
            <geometry>
                <box size="0.3 0.05 0.9"/>
            </geometry>
            <material name = "blue"/>
        </visual>

        <collision>
            <origin xyz="0 0.25 0.025" rpy="${pi/2} 0 0"/>
            <geometry>
                <box size="0.3 0.05 0.9"/>
            </geometry>
        </collision>

        <xacro:inertial_box mass="0.05" x="0.3" y="0.05" z="0.9">
            <origin xyz="0 0.25 0.025" rpy="${pi/2} 0 0"/>
        </xacro:inertial_box>
    </link>

    <xacro:include filename="gazebo.xacro"/>
    
    <xacro:include filename="ros2_control_custom_hardware_interface.xacro"/>
</robot>
